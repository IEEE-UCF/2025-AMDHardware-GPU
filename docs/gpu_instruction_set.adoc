= Opcode Structure Diagram
:toc:
:numbered:

== Overview

Total instruction size: *72 bits (9 bytes)*

== Bit Layout

[cols="1,1,1,1,4,16", options="header"]
|===
| Bit 1 | Bit 2 | Bit 3 | Bit 4 | Bits 5-8 | Bits 9-72
| SV   | WRT   | RD    | VAL   | OPCODE   | DATA (64 bits)
|===

== Bit Field Definitions

=== Bit 1: Scalar/Vector Mode (SV)
* `0` = Scalar operation
* `1` = Vector operation

=== Bit 2: Write to Memory (WRT)  
* `0` = No memory write
* `1` = Writes to memory

=== Bit 3: Read from Memory (RD)
* `0` = No memory read (use immediate data only)
* `1` = Reads from memory

=== Bit 4: Amount of Values Read (VAL)
[NOTE]
====
Only valid if bit 3 (RD) = 1
====

* `0` = Read 1 value from memory
* `1` = Read 2 values from memory

=== Bits 5-8: Instruction Opcode
4 bits providing *16 possible instructions* (0000-1111)

== Data Field (64 bits)

The 64-bit data field contains **all data** needed for the instruction:

* Memory addresses/pointers
* Immediate values  
* Operands
* Mixed data types as needed

== Example Instructions

=== Example 1: Scalar Add with Immediate Data

[cols="1,1,1,1,4,16", options="header"]
|===
| S/V | WRT | RD | VAL | OPCODE | DATA
| 0   | 0   | 0  | 0   | 0001   | 0x123456789ABCDEF0
|===

*Description:* Scalar ADD operation using immediate operands, no memory operations

=== Example 2: Vector Load with Two Memory Reads

[cols="1,1,1,1,4,16", options="header"]
|===
| S/V | WRT | RD | VAL | OPCODE | DATA  
| 1   | 1   | 1  | 1   | 0010   | 0xAABBCCDD \| 0xEEFF0011
|===

*Description:* Vector LOAD operation reading 2 values from memory, with write-back

== Physical Memory Layout

....
Byte 0: [S/V][WRT][RD][VAL][OPCODE]
        └─0─┘└─1─┘└2┘└3┘└──4-7──┘

Bytes 1-8: 64-bit data field (all data for the instruction)
....

== Architecture Notes

[IMPORTANT]
====
* No trinary opcodes allowed as of this moment
* Data field interpretation depends on the instruction flags
* Pointer sizes may vary based on architecture requirements, will be defined at a later date
====
